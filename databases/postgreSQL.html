<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PostgreSQL</title>
</head>
<body>
    <a href="../index.html">Home</a>
    <h1>PostgreSQL</h1>

    <h2>Installation</h2>
    <ul>
        <li>Postgres is a database server and must be connected to via a postgres client that allows for interaction with SQL.  Clients include GUI clients like Postbird, PgAdmin4, and Postico, CLI Clients like psql, and Programming Language Clients like an ORM.  To use postgres locally you must set up both the postgres server and a client. You can have only one postgres database server running per port (typically 5432), but many different open interfaces (clients) per server.  There is a supervisor server process that will continually run to listen for new client connections and create new processes for every new client connect - these processes end as client connections end.  A single server process can manage multiple databases (called a database cluster), typically every project or user would have their own database.</li>
        <li><strong>Server</strong> On MacOS there are several ways to download and manage Postgres.  <strong>postgres.app</strong> is an easy way to get started and can be downloaded at <a href="https://postgresapp.com/">postgresapp.com</a>. Windows and Linux have their own installation steps. </li>
        <ul>
            <li>To start a new database, add a new server and click start, this will by default start a database server with Host: localhost, Port: 5432, User: <i>your system username</i>, Database: <i>same as user</i>, Password: <i>none</i>, and Connection URL: postgresql://localhost</li>
        </ul>
        <li><strong>GUI Client</strong> Postbird is a good graphical interface for a postgres server and can be downloded at <a href="https://www.electronjs.org/apps/postbird">electronjs.org/apps/postbird</a></li>
        <ul>
            <li>Once your database server is runnign with postgres.app, you can connect to it in postbird</li>
            <li>Any SQL commands can be run in the query tab (not just SELECT statements), to add tables, add data, alter, etc.</li>
            <li>There are also GUI commands to do a lot of SQL commands that are fairly intuitive to find and use.</li>
            <li>You can import .sql files if you have saved sql you want to run.</li>
        </ul>
        <li><strong>CLI Client</strong> psql is the standard CLI interface for postgres.  To use it, simply double click on the database within the postgres.app application.  It should open up a terminal that you can begin issuing sql commands on. When using psql use the <code>\q</code> command to quit.</li>
    </ul>

    <h2>Data Types</h2>
    <ul>
        <li>Common data types in PostgreSQL include those below (you would use these in your CREATE TABLE/ALTER TABLE statements to define column data types, instead of TEXT, INTEGER, etc., note these are lowercased):</li>
        <ul>
            <li><code>boolean</code> literals are TRUE and FALSE (no quotes), or can use 't' and 'f' or 'true' and 'false' (with quotes)</li>
            <li><code>char(n)</code> fixed-length string that removes trailing spaces</li>
            <li><code>varchar</code> or <code>varchar(n)</code> text with variable length, up to n characters (if specified), literals written in single quotes 'my string'</li>
            <li><code>text</code> unlimited-length string</li>
            <li><code>text[]</code> an array of unlimited-length strings</li>
            <li><code>date</code> calendar date, can use date_part('year', somedateValue) to return the year of a data as an integer (e.g. 2020).</li>
            <li><code>integer</code> whole number value between -2147483648 and +2147483647, literals written with no quotes or anything</li>
            <li><code>decimal</code> floating point decimal number</li>
            <li><code>money</code> fixed floating point number with 2 decimal places</li>
            <li><code>numeric(a, b)</code> decimal with total digits (a) and digits after the decimal point (b), literals written with no quotes or anything else</li>
            <li><code>time</code> time of day (no time zone) literals look like '2020-08-15 18:00'</li>
        </ul>
        <li>PostgreSQL uses automatic type-casting when inserting data, so if you insert a decimal value into an integer column it will round the decimal into an integer (e.g. insert 1.5 become 2), or if you nisert a number into a varchar column it will be cast to a string (e.g. insert 1.5 becomes '1.5').  However, strings will not be converted to numbers (e.g. insert '1.5' into a numeric field and you will get a type error instead of an uatomatic conversion to 1.5).</li>
    </ul>



</body>
</html>